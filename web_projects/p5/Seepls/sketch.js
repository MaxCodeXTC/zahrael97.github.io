// Generation of text "Seepls" using Fourier Series.

var b_t = 0;
var y_wave = [],f;

function setup() { 
  var __canvas = createCanvas(windowWidth, windowHeight);
  ff = windowWidth*windowHeight;
} 	

function draw() {
  background(0);
  
  fill(250);
  noStroke();
  textFont('monospace');
  textSize(25);
  text("Seepls :) :P", 80, 80);
  
  translate(width/2, height/2);
  let m_x = 0;
  let u_y = 0;
  
  let x10_freq = [-1,1,2,-3,-2,3,7,-7,5,6,-4,8,9,14,12,13,10,-6,11,-5,-15,-10,-8,-12,-14,-11,4,15,16,-17];
  let mu_coeff = [63.118388975368504,54.67727719623326,44.173021585145484,39.8793145947866,35.46724657329891,32.208378579825066,31.55331359518135,29.11148004487249,26.890949824193523,22.255946978214375,19.626692176245783,14.716300202474612,14.393501548982481,12.478615979340432,11.65316026871935,11.292270447447676,10.45787279651488,10.3707223010895,9.94548309746015,9.943859857081096,8.829499269782549,8.770265255907516,8.752910460976315,8.221994338926239,8.158195430204918,6.916817905720429,6.191860577009642,6.112106167765009,6.025367931802287,5.288047113433678];
  // l;
  let x10_phase = [-1.748315791879811,1.7139183618774552,1.4121013764163104,-0.2532130192063159,-1.6309345694142,2.5969054738526935,2.5131756992519483,-0.17769886869149576,2.903637857214652,1.582380091434139,-1.7231061037755184,0.8610564841508481,1.1680248648077525,1.6879512518021076,2.5499616890438945,1.827213758542088,0.47891210975051407,2.984332437290356,1.1462757291643189,-0.45252667751669956,-1.3555288124872218,2.091083847003369,-1.3276402930427806,-0.060674482906333545,-2.0399919785084855,-2.5175878870677444,1.9672132792895807,2.2101188895221764,1.9001292509787755,-2.1883683985715043];
  stroke(255, 145);
	fill(255, 100);
	ellipse(m_x,u_y,2);
  for(let i = 0; i<mu_coeff.length;i++){
	  let px = m_x;
	  let py = u_y;
	  var r = mu_coeff[i];
	  r = r*ff/500000;
    var w = x10_freq[i];
	  m_x += r*cos(w*b_t+x10_phase[i]);
	  u_y += r*sin(w*b_t+x10_phase[i]);
	  // line
    // x10
    stroke(25*10, 145);
	  fill(255, 100);
	  ellipse(m_x,u_y,2);
    strokeWeight(0.5);
	  noFill();
	  ellipse(px, py , r*2);
	  
	  line(px,py,m_x,u_y);
  }
  
  y_wave.unshift([m_x, u_y]);
  b_t += 0.005;
  if (y_wave.length > 1280)
	  y_wave.pop();
  
  //translate(400,0);
  
  line(m_x,u_y, 0, y_wave[0]);
  beginShape();
  stroke(255);
  strokeWeight(2);
  for (var i = 0;i<y_wave.length;i++)
	  vertex(y_wave[i][0], y_wave[i][1]);
  endShape();
}